{"version":3,"sources":["select/select.js","index.js","../../Users/deadt/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../Users/deadt/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["getTemplate","data","placeholder","selectedId","text","items","map","item","cls","id","value","join","Select","selector","options","$el","document","querySelector","event","type","target","dataset","toggle","select","close","classList","contains","find","$value","textContent","current","querySelectorAll","forEach","el","remove","add","onSelect","isOpen","open","$arrow","removeEventListener","clickHandler","innerHTMLL","innerHTML","bind","addEventListener","console","log","window","s","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","length","module"],"mappings":"AEAA,ACAA,IDAIkD,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAI,ACAA,CAAC,cAAc,CAAC;ADCpC,ACCA,SDDSZ,ACCAa,UAAU,CAACC,IAAI,EAAE,CDDC,GAAG;ADD9B,ECEE,ACCA,IDDI,ACCAC,CDDChB,MCCM,GDDG,ACCAe,EDDE,ECCE,CAACE,SAAS,EAAE;AFFhC,EEGED,EDDEhB,KCCK,CAACkB,GDDG,GAAGhB,ACCA,GAAG,SDDS,EAAE,CCCC;AFD/B,ECCE,ECCEa,AFFE1C,IEEE,CAACW,CFFG,GAAG,EEEA,EAAE,AFFEtB,cAAM,CAAC,SAAS,EAAE;ECGnC,ACAA,AFFAV,CEEC,MDAMgD,IDFI,EAAE,GCEG,aDFa;ACG/B,ECAEgB,AFFA,OEEO,CAACG,IAAI,GAAGJ,IAAI,CAACI,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGC,IAAI,CAACC,GAAG,EAAE;ADE3D,ECDEP,AFFAhE,IEEI,AFFA,CEECwE,CFFC,CCGCrB,ADFL,QECa,CAACsB,GDCG,GAAG,MCDM,CAACR,OAAO,EAAED,IAAI,CAACU,WAAW,CAAC;AACzD,EDCE,EDHIlE,EAAE,EAAE,GAAG;AEIb,EDAE,ECAEmE,AFJWlE,ECIT,GDJc,EAAE,GEIR,GAAG,IAAI;AACrB,EFL8B,CAAC,CCK3B,CDJA,IEIKmE,CDAC,IAAIxB,ICAI,CDAC,ECAE;EDCnB,ACAA,CDAC,CAAC,ADLE5C,EEKAmE,AFLE,EAAE,GCKCtB,ADLE,GCKC,EAAE,ACAA,EAAE;IDCd,ACAA,AFNW5C,ICMP6C,CDNY,EAAE,ICMP,GAAG,CAAC,EAAE,GAAGD,GAAG,CAACE,KAAK,EAAEC,KAAK,CAAC,+DAA+D,CAAC;ECCvG,AFP8B,CAAC,CCO7B,CDNA,GCMIF,OAAO,EAAE;ECEfqB,EFRInE,ECOA,ADPE,EAAE,GAAG,CEQD,CDDCiD,ECCEoB,QDDQ,CAACvB,CCCC,CAAC,KDDK,CAAC,CAAC,CAAC,CAAC,GCCG;AHjBtC,IEiBI,ACCA,AFTW7C,ADTTV,IGkBE+E,CFTY,EAAE,EEST,EHlBI,CGkBD/D,EHlBI,MGkBI,CAACe,EHlBnB/B,WAAW,GGkBwB,AHlBmB,CGkBlB,wBAAwB,CAAC;EDAjE,ADT0B,ADTgC,CCS/B,CEUzB,CFTA,CDViBC,GGmBZ,CHnBgB,GGmBZ+E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE,sCHnBf,EAAE;EEoB5B,AFpB4B,ECUxBvE,EEUA,AFVE,ADVwBP,ECUtB,CCUD,CCAC4D,CFVG,CCUD,ICAI,CAACJ,AHpB0B,UGoBhB,CAACqB,KAAK,CAACC,CAAC,CAAC,CAACX,IAAI,CAAC,KAAKP,MAAM,CAACV,YAAY,EAAE,EAAE;ADCtE,EFrB2C,ECU5B1C,EDV8BP,EGqBrC6D,CFXY,EAAE,KDViC,EGqBrC,CAACe,KAAK,CAACC,CAAC,CAAC,CAAC;ADE5B,EDbqC,ADTnC,CCSoC,EAClC,CEWE,AHrBA5E,GEsBGsD,CFtBC,GAAGxD,MEsBM,CAACyD,GAAG,CFtBC,CEsBC,YFtBZzD,WAAW,cAAXA,WAAW,GAAI,QAAQ;EEuBlC,AFrBA,EGoBE,AFZEO,EAAE,ADRAJ,ECQE,CCaD,CAAC,CDbG,ADRA,CEqBD,EFrBIJ,CEqBD0D,GAAG,AFrBE,CAACrD,CEqBDsD,EFrBI,CAAC,IEqBE,CAAC,KFrBFrD,IAAI,EAAK,qEEqByE,EAAE,IAAI,CAAC,GAAG,GAAG;AACzH,ICAIqE,AFdWlE,ADPX,IAAIF,CCOY,EAAE,ADPX,GGqBG,AHrBA,EAAE,CGqBC,IAAI;ADErBqD,ECDE,AFf2B,CEe1B,AFf2B,CDN1B,CGqBC,AFdD,ECeG,ACDA,CDCCT,ACDA,AHrBA7C,IAAI,CAACE,EAAE,KEsBK,AFtBAN,GEsBGgD,OFtBO,EAAE,SEsBS;AACzCU,ACDA,IFfMpD,EAAE,ADNFL,CEsBC,CAACsD,ADhBE,EDNA,CCMG,EDNAnD,IAAI,CEsBC,AFtBAG,GEsBGgD,EFtBE,QEsBQ;ACC/BwB,IFjBexE,EEiBT,AHtBAF,CGsBCqD,EFjBa,ADLX,ECKa,CDLV,EGsBE,GAAGgB,KHtBK,IGsBI;EFjBG,CAAC,CAC3B,ADLC;ECMFzC,EDLE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","file":"select-js.e31bb0bc.js","sourceRoot":"..","sourcesContent":["const getTemplate = (data = [], placeholder, selectedId) => {\r\n  let text = placeholder ?? \"Select\";\r\n\r\n  const items = data.map((item) => {\r\n    let cls = \"\";\r\n    if (item.id === selectedId) {\r\n      text = item.value;\r\n      cls = \"selected\";\r\n    }\r\n    return `\r\n      <li class=\"select__item ${cls}\" data-type=\"item\" data-id=\"${item.id}\">${item.value}</li>\r\n    `;\r\n  });\r\n\r\n  return `\r\n    <div class=\"select__backdrop\" data-type=\"backdrop\"></div>\r\n    <div class=\"select__input\" data-type=\"input\">\r\n      <span data-type=\"value\">${text}</span>\r\n      <i class=\"fa fa-angle-down\" data-type=\"arrow\"></i>\r\n    </div>\r\n\r\n    <div class=\"select__dropdown\">\r\n      <ul class=\"select__list\">\r\n        ${items.join(\"\")}\r\n      </ul>\r\n    </div>\r\n  `;\r\n};\r\nexport class Select {\r\n  constructor(selector, options) {\r\n    this.$el = document.querySelector(selector);\r\n    this.options = options;\r\n    this.selectedId = options.selectedId;\r\n\r\n    this.#render();\r\n    this.#setup();\r\n  }\r\n\r\n  #render() {\r\n    const { placeholder, data } = this.options;\r\n    this.$el.classList.add(\"select\");\r\n    this.$el.innerHTML = getTemplate(data, placeholder, this.selectedId);\r\n  }\r\n\r\n  #setup() {\r\n    this.clickHandler = this.clickHandler.bind(this);\r\n    this.$el.addEventListener(\"click\", this.clickHandler);\r\n    this.$arrow = this.$el.querySelector('[data-type=\"arrow\"]');\r\n    this.$value = this.$el.querySelector('[data-type=\"value\"]');\r\n  }\r\n\r\n  clickHandler(event) {\r\n    const { type } = event.target.dataset;\r\n\r\n    if (type === \"input\") {\r\n      this.toggle();\r\n    } else if (type === \"item\") {\r\n      const id = event.target.dataset.id;\r\n      this.select(id);\r\n    } else if (type === \"backdrop\") {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  get isOpen() {\r\n    return this.$el.classList.contains(\"open\");\r\n  }\r\n\r\n  get current() {\r\n    return this.options.data.find((item) => item.id === this.selectedId);\r\n  }\r\n\r\n  select(id) {\r\n    this.selectedId = id;\r\n    this.$value.textContent = this.current.value;\r\n\r\n    this.$el.querySelectorAll('[data-type=\"item\"]').forEach((el) => {\r\n      el.classList.remove(\"selected\");\r\n    });\r\n    this.$el.querySelector(`[data-id=\"${id}\"]`).classList.add(\"selected\");\r\n\r\n    this.options.onSelect ? this.options.onSelect(this.current) : null;\r\n\r\n    this.close();\r\n  }\r\n\r\n  toggle() {\r\n    this.isOpen ? this.close() : this.open();\r\n  }\r\n\r\n  open() {\r\n    this.$el.classList.add(\"open\");\r\n    this.$arrow.classList.remove(\"fa-angle-down\");\r\n    this.$arrow.classList.add(\"fa-angle-up\");\r\n  }\r\n\r\n  close() {\r\n    this.$el.classList.remove(\"open\");\r\n    this.$arrow.classList.add(\"fa-angle-down\");\r\n    this.$arrow.classList.remove(\"fa-angle-up\");\r\n  }\r\n\r\n  destroy() {\r\n    this.$el.removeEventListener(\"click\", this.clickHandler);\r\n    this.$el.innerHTMLL = \"\";\r\n  }\r\n}\r\n","import { Select } from \"./select/select\";\r\nimport \"./select/styles.scss\";\r\n\r\nconst select = new Select(\"#select\", {\r\n  placeholder: \"Выбери элемент\",\r\n  // selectedId: \"1\",\r\n  data: [\r\n    { id: \"1\", value: \"React\" },\r\n    { id: \"2\", value: \"Angular\" },\r\n    { id: \"3\", value: \"Vue\" },\r\n    { id: \"4\", value: \"React Native\" },\r\n    { id: \"5\", value: \"Next\" },\r\n    { id: \"6\", value: \"Nest\" },\r\n  ],\r\n  onSelect(item) {\r\n    console.log(\"Selected item:\", item);\r\n  },\r\n});\r\n\r\nwindow.s = select;\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}